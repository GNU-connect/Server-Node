x-defaults: &common-settings
  image: dongho18/connect-gnu-node:latest
  pull_policy: always
  restart: always
  networks:
    - connect-gnu-network
  environment:
    TZ: 'Asia/Seoul'
  env_file:
    - .env
  deploy:
    resources:
      limits:
        memory: 512m
      reservations:
        memory: 512m

services:
  connect-gnu-node:
    <<: *common-settings
    container_name: connect-gnu-node
    ports:
      - '5200:5200'

networks:
  connect-gnu-network:
    external: true
